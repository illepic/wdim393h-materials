<!DOCTYPE html>
<!--[if lt IE 7]> <html class="no-js ie6" lang="en"> <![endif]-->
<!--[if IE 7]>    <html class="no-js ie7" lang="en"> <![endif]-->
<!--[if IE 8]>    <html class="no-js ie8" lang="en"> <![endif]-->
<!--[if gt IE 8]><!-->  <html class="no-js" lang="en"> <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

  <title>WDIM393 - Week 9</title>

  <meta name="description" content="A jQuery library for modern HTML presentations">
  <meta name="author" content="Caleb Troughton">
  <meta name="viewport" content="width=1024, user-scalable=no">

  <!-- Core and extension CSS files -->
  <link rel="stylesheet" href="../deck.js/core/deck.core.css">
  <link rel="stylesheet" href="../deck.js/extensions/goto/deck.goto.css">
  <link rel="stylesheet" href="../deck.js/extensions/menu/deck.menu.css">
  <link rel="stylesheet" href="../deck.js/extensions/navigation/deck.navigation.css">
  <link rel="stylesheet" href="../deck.js/extensions/status/deck.status.css">
  <link rel="stylesheet" href="../deck.js/extensions/hash/deck.hash.css">

  <!-- Theme CSS files (menu swaps these out) (or did until we modified) -->
  <link rel="stylesheet" id="style-theme-link" href="../deck.js/themes/style/web-2.0-wdim.css">
  <link rel="stylesheet" id="transition-theme-link" href="../deck.js/themes/transition/vertical-slide.css">

  <!-- syntax highlighter -->
  <link rel="stylesheet" href="../custom-common/css/jquery.snippet.css">

  <!-- Custom CSS for all AI classes -->
  <link rel="stylesheet" href="../custom-common/css/custom-common.css">
  <!-- Custom CSS just for this page -->
  <link rel="stylesheet" href="ai-class.css">
  <link rel='stylesheet' media='screen and (min-width: 701px) and (max-width: 900px)' href='demo.css' />

  <script src="../deck.js/modernizr.custom.js"></script>
</head>

<body class="deck-container class-3">

  <section class="slide" id="title-slide">
    <h1>WDIM363 - Week 9</h1>
  </section>

  <section class="slide" id="agenda">
    <h2>Agenda</h2>
    <h3>Advanced Canvas</h3>
    <ol>
      <li></li>
    </ol>
  </section>

  <section class="slide" id="translate">
    <h2>Just like CSS3</h2>
    <ul>
      <li><strong>Translate</strong></li>
      <li>Rotate</li>
      <li>Scale</li>
    </ul>
    <p>If we have to position many shapes, we can translate from the prior shape.</p>
    <figure class="fiddle">
      <iframe style="width: 580px; height: 350px" src="http://jsfiddle.net/illepic/5AQ3m/embedded/js,result" allowfullscreen="allowfullscreen" frameborder="0"></iframe>
    </figure>
    <figure class="fiddle">
      <iframe style="width: 580px; height: 350px" src="http://jsfiddle.net/illepic/5AQ3m/embedded/result" allowfullscreen="allowfullscreen" frameborder="0"></iframe>
    </figure>
  </section>

  <section class="slide" id="rotate">
    <h2>Just like CSS3 (kind of)</h2>
    <ul>
      <li>Translate</li>
      <li><strong>Rotate</strong></li>
      <li>Scale</li>
    </ul>
    <img src="images/radian.png" alt="" style="float:left;"><p>To rotate the HTML5 Canvas, we can use the rotate() method. The rotate transformation is defined by an angle in radians.</p>
    <p><a href="http://en.wikipedia.org/wiki/Radian">A radian is the ratio between the length of an arc and it's radius</a>. To use degrees, multiply by &Pi;/180.</p>
    <div class="clearleft"></div>
    <figure class="fiddle">
      <iframe style="width: 580px; height: 350px" src="http://jsfiddle.net/illepic/QLBQE/embedded/js,result" allowfullscreen="allowfullscreen" frameborder="0"></iframe>
    </figure>
    <figure class="fiddle">
      <iframe style="width: 580px; height: 350px" src="http://jsfiddle.net/illepic/QLBQE/embedded/result" allowfullscreen="allowfullscreen" frameborder="0"></iframe>
    </figure>
  </section>

  <section class="slide" id="scale">
    <h2>Just like CSS3 (kind of)</h2>
    <ul>
      <li>Translate</li>
      <li>Rotate</li>
      <li><strong>Scale</strong></li>
    </ul>
    <p>Scale is pretty straightforward: <code>context.scale(scaleX,scaleY);</code></p>
    <figure class="fiddle">
      <iframe style="width: 580px; height: 350px" src="http://jsfiddle.net/illepic/AJfT6/embedded/js,result" allowfullscreen="allowfullscreen" frameborder="0"></iframe>
    </figure>
    <figure class="fiddle">
      <iframe style="width: 580px; height: 350px" src="http://jsfiddle.net/illepic/AJfT6/embedded/result" allowfullscreen="allowfullscreen" frameborder="0"></iframe>
    </figure>
  </section>

  <section class="slide" id="states">
    <h2>State saving</h2>
    <p>Each time you call translate, rotate, or scale it adds on to the previous transformation. This gets really hard to track after awhile.</p>
    <blockquote>The context object represents the current drawing state. The state includes the current transform, the fill and stroke color, the current font, and a few other variables. Canvas lets you save this state by pushing it onto a "stack". After you save the state you can make modifications, then restore to the previous state. Canvas takes care of the book-keeping for you.</blockquote>
    <p>Notice how the disance between rectangles does not expand, but rather stays linear.</p>
    <figure class="fiddle">
      <iframe style="width: 580px; height: 350px" src="http://jsfiddle.net/illepic/swtNb/embedded/js,result" allowfullscreen="allowfullscreen" frameborder="0"></iframe>
    </figure>
    <figure class="fiddle">
      <iframe style="width: 580px; height: 350px" src="http://jsfiddle.net/illepic/swtNb/embedded/result" allowfullscreen="allowfullscreen" frameborder="0"></iframe>
    </figure>
    <cite>joshy.org</cite>
  </section>

  <section class="slide" id="pixel-buffers">
    <h2>Pixel buffers</h2>
    <p>With canvas, we can get right at the pixels directly and manipulate them. We can create our own image data, or play with existing photo data. </p>
    <p>Thinks of pixel buffers as essentially a huge array of all the pixels in an image. The pixels are made up of red, green, blue, and alpha components, in that order, so to calculate the index of the <span class="red">red</span> component of a particular pixel you would have to calculate the following equation:</p>
    <code>
      <pre>(y * width + x) * 4</pre>
    </code>
    <p>For the pixel 5,3 on a bitmap that is 6 pixels wide it would be:</p>
    <code>
       <pre>(3 * 6 + 5) * 4</pre>
     </code>
     <p>The * 4 is because each pixel has four color components (RGB and the opacity or 'alpha' component). The data object contains the width of the image, so you can write it as (3 * data.width + 5) * 4. Once you have found the red component you can find the others by incrementing the index for the green, blue, and alpha components. (code on next slide)</p>
     <img src="images/pixel-array.png">
    <cite>joshy.org</cite>
  </section>

  <section class="slide" id="pixel-buffers-ex">
    <h2>Pixel buffers Example</h2>
    <p>In the following example, we're looping through all the pixels in the image and inverting them.</p>

    <canvas width="1000" height="500"></canvas>
    <cite>joshy.org</cite>
  </section>


  <section class="slide" id="lab">
    <h2>Hands on lab from joshy.org</h2>
  </section>

  <section class="slide" id="resources">
    <h2>Resources</h2>
    <p>There are many canvas resources out there. Below are a few you might find helpful.</p>
    <ul>
      <li><a href="https://developer.mozilla.org/en/Canvas_tutorial">Mozilla Canvas Tutorial</a></li>
      <li><a href="http://net.tutsplus.com/tutorials/javascript-ajax/canvas-from-scratch-introducing-canvas/">Nettuts: Discovering Canvas From Scratch</a></li>
      <li><a href="http://projects.joshy.org/presentations/HTML/CanvasDeepDive/presentation.html">Canvas Presentation</a></li>
      <li><a href="http://blog.nihilogic.dk/2009/02/html5-canvas-cheat-sheet.html?kozmic">Canvas Cheat Sheet</a></li>
    </ul>
  </section>

  <a href="#" class="deck-prev-link" title="Previous">&#8592;</a>
  <a href="#" class="deck-next-link" title="Next">&#8594;</a>

  <p class="deck-status">
    Press "m" to see all slides.
    <span class="deck-status-current"></span>
    /
    <span class="deck-status-total"></span>
  </p>

  <form action="." method="get" class="goto-form">
    <label for="goto-slide">Go to slide:</label>
    <input type="text" name="slidenum" id="goto-slide" list="goto-datalist">
    <datalist id="goto-datalist"></datalist>
    <input type="submit" value="Go"></form>

  <a href="." title="Permalink to this slide" class="deck-permalink">#</a>
<!-- Grab CDN jQuery, with a protocol relative URL; fall back to local if offline -->
  <script src="//ajax.aspnetcdn.com/ajax/jQuery/jquery-1.7.min.js"></script>
  <script>window.jQuery || document.write('<script src="../deck.js/jquery-1.7.min.js"><\/script>')</script>
<!-- Deck Core and extensions -->
<script src="../deck.js/core/deck.core.js"></script>
<script src="../deck.js/extensions/hash/deck.hash.js"></script>
<script src="../deck.js/extensions/menu/deck.menu.js"></script>
<script src="../deck.js/extensions/goto/deck.goto.js"></script>
<script src="../deck.js/extensions/status/deck.status.js"></script>
<script src="../deck.js/extensions/navigation/deck.navigation.js"></script>
<!-- syntax highlighter -->
<script src="../custom-common/js/jquery.snippet.js"></script>
<!-- Specific to this page -->
<script src="ai-class.js"></script>

</body>
</html>
